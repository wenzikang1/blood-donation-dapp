# ğŸ©¸ Secure Blood Donation DApp (åŸºäºåŒºå—é“¾çš„å®‰å…¨çŒ®è¡€ç—…å†ç³»ç»Ÿ)

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![React](https://img.shields.io/badge/Frontend-React-61DAFB.svg)
![Firebase](https://img.shields.io/badge/Database-Firebase-FFCA28.svg)
![Ethereum](https://img.shields.io/badge/Blockchain-Ethereum%2FSepolia-3C3C3D.svg)

## ğŸ“– é¡¹ç›®ç®€ä»‹ (Introduction)

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„åŒ»ç–—æ•°æ®ç®¡ç†åº”ç”¨ï¼ˆDAppï¼‰ï¼Œæ—¨åœ¨è§£å†³ä¼ ç»ŸçŒ®è¡€è®°å½•ä¸­å­˜åœ¨çš„**æ•°æ®å­¤å²›**ã€**éšç§æ³„éœ²**å’Œ**ä¿¡ä»»ç¼ºå¤±**é—®é¢˜ã€‚

ç³»ç»Ÿé‡‡ç”¨ **"é“¾ä¸Šç´¢å¼• + é“¾ä¸‹å­˜å‚¨"** çš„æ··åˆæ¶æ„ï¼šåˆ©ç”¨ä»¥å¤ªåŠåŒºå—é“¾ä¿è¯æ•°æ®çš„ä¸å¯ç¯¡RKå’Œæƒé™æ§åˆ¶ï¼Œåˆ©ç”¨ Firebase å­˜å‚¨åŠ å¯†åçš„è¯¦ç»†ç—…å†æ•°æ®ã€‚æ‚£è€…æ‹¥æœ‰å¯¹è‡ªå·±æ•°æ®çš„å®Œå…¨æ§åˆ¶æƒï¼ˆSelf-Sovereign Identityï¼‰ï¼Œå¯ä»¥è‡ªä¸»å†³å®šæˆæƒæˆ–æ’¤é”€åŒ»ç”Ÿå¯¹ç—…å†çš„è®¿é—®ã€‚

---

## ğŸ— ç³»ç»Ÿæ¶æ„ (System Architecture)

ç³»ç»Ÿåˆ†ä¸ºä¸‰å±‚æ¶æ„ï¼Œç¡®ä¿å®‰å…¨æ€§ä¸æ•ˆç‡çš„å¹³è¡¡ï¼š

1.  **å‰ç«¯äº¤äº’å±‚ (React.js)**: 
    *   æ ¹æ®è¿æ¥çš„é’±åŒ…åœ°å€è‡ªåŠ¨è¯†åˆ«èº«ä»½ï¼ˆç®¡ç†å‘˜/åŒ»ç”Ÿ/æ‚£è€…ï¼‰ã€‚
    *   æä¾›ç»“æ„åŒ–çš„æ•°æ®å½•å…¥å’Œå¯è§†åŒ–çš„æ•°æ®æŸ¥è¯¢ç•Œé¢ã€‚
2.  **é€»è¾‘æ§åˆ¶å±‚ (Smart Contract - Solidity)**: 
    *   éƒ¨ç½²åœ¨ Sepolia æµ‹è¯•ç½‘ã€‚
    *   ç»´æŠ¤åŒ»ç”Ÿæ³¨å†Œç™½åå•ã€‚
    *   è®°å½•ç—…å†çš„å“ˆå¸Œå€¼ï¼ˆData Hashï¼‰ä»¥é˜²ç¯¡æ”¹ã€‚
    *   ç®¡ç†å¤æ‚çš„æƒé™é€»è¾‘ï¼ˆGrant/Revoke Accessï¼‰ã€‚
3.  **æ•°æ®å­˜å‚¨å±‚ (Hybrid Storage)**:
    *   **On-Chain (é“¾ä¸Š)**: ä»…å­˜å‚¨å…³é”®å…ƒæ•°æ®ï¼ˆæ‚£è€…åœ°å€ã€åŒ»ç”Ÿåœ°å€ã€è®°å½•ç±»å‹ã€æ—¶é—´æˆ³ã€IPFS/Firebase ç´¢å¼•å“ˆå¸Œï¼‰ã€‚
    *   **Off-Chain (é“¾ä¸‹ - Firebase)**: å­˜å‚¨ç» AES åŠ å¯†åçš„è¯¦ç»†åŒ»ç–—æ•°æ®ï¼ˆè¡€å‹ã€è¡€å‹ã€çŒ®è¡€é‡ã€åŒ»å˜±ç­‰ï¼‰ã€‚

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½ (Key Features)

### 1. ğŸ›¡ èº«ä»½ä¸æƒé™ç®¡ç† (Role-Based Access Control)
*   **è‡ªåŠ¨èº«ä»½è¯†åˆ«**: ç³»ç»Ÿæ ¹æ®é’±åŒ…åœ°å€è‡ªåŠ¨åˆ¤æ–­ç”¨æˆ·è§’è‰²ï¼ˆç®¡ç†å‘˜/åŒ»ç”Ÿ/æ‚£è€…ï¼‰ã€‚
*   **æ‚£è€…ä¸»æƒ**: æ‚£è€…å¿…é¡»æ˜¾å¼æˆæƒï¼ˆGrant Accessï¼‰ï¼ŒåŒ»ç”Ÿæ‰èƒ½æŸ¥çœ‹å…¶è¯¦ç»†ç—…å†ï¼›æ‚£è€…å¯éšæ—¶æ’¤é”€ï¼ˆRevoke Accessï¼‰æƒé™ã€‚

### 2. ğŸ“ åŒ»ç”Ÿå·¥ä½œå° (Doctor Dashboard)
*   **ç»“æ„åŒ–å½•å…¥**: æä¾›è¡€å‹ã€çŒ®è¡€é‡ã€è¡€å‹ç­‰æ ‡å‡†åŒ–å­—æ®µå½•å…¥ã€‚
*   **æ•°æ®åŠ å¯†ä¸Šé“¾**: å‰ç«¯è‡ªåŠ¨å°†æ•æ„Ÿæ•°æ®æ‰“åŒ…å¹¶åŠ å¯†ï¼Œç”Ÿæˆå“ˆå¸Œå€¼ä¸Šé“¾ï¼ŒåŸå§‹åŠ å¯†æ•°æ®å­˜å…¥äº‘ç«¯ã€‚

### 3. ğŸ” åŒ»ç–—è®°å½•æŸ¥è¯¢ (Secure Query)
*   **åŒé‡éªŒè¯**: æŸ¥è¯¢æ—¶é¦–å…ˆé€šè¿‡æ™ºèƒ½åˆçº¦éªŒè¯è®¿é—®æƒé™ï¼ŒéªŒè¯é€šè¿‡åæ–¹å¯è§£å¯†å¹¶è¯»å–äº‘ç«¯è¯¦ç»†æ•°æ®ã€‚
*   **å®Œæ•´è¿½æº¯**: æ¯æ¡è®°å½•å‡åŒ…å«æ—¶é—´æˆ³ã€åœ°ç‚¹ã€æ“ä½œåŒ»ç”Ÿç­¾åï¼Œå…¨æµç¨‹å¯è¿½æº¯ã€‚

---

## ğŸ›  æŠ€æœ¯æ ˆ (Tech Stack)

| æ¨¡å— | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| **å‰ç«¯æ¡†æ¶** | React.js | å“åº”å¼ UIï¼Œç»„ä»¶åŒ–å¼€å‘ |
| **åŒºå—é“¾äº¤äº’** | Ethers.js (v5) | è¿æ¥ MetaMask é’±åŒ…ï¼Œè°ƒç”¨æ™ºèƒ½åˆçº¦ |
| **æ™ºèƒ½åˆçº¦** | Solidity | ç¼–å†™æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ (AccessControl, Registry) |
| **éƒ¨ç½²ç½‘ç»œ** | Sepolia Testnet | ä»¥å¤ªåŠæµ‹è¯•ç½‘ |
| **äº‘æ•°æ®åº“** | Google Firebase | Firestore å­˜å‚¨åŠ å¯†åçš„ JSON æ•°æ® |
| **å¼€å‘å·¥å…·** | VScode, Remix | ä»£ç ç¼–å†™ä¸åˆçº¦è°ƒè¯• |
| **éƒ¨ç½²æ‰˜ç®¡** | Vercel | å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½² |

---

## ğŸ”’ æ•°æ®éšç§æ–¹æ¡ˆ (Data Privacy)

ä¸ºäº†ç¬¦åˆåŒ»ç–—æ•°æ®åˆè§„æ€§ï¼ˆå¦‚ HIPAA/GDPR çš„è®¾è®¡æ€è·¯ï¼‰ï¼š
1.  **æ•°æ®è„±æ•**: é“¾ä¸Šä¸å­˜å‚¨ä»»ä½•æ˜æ–‡çš„ä¸ªäººèº«ä»½ä¿¡æ¯ï¼ˆPIIï¼‰ã€‚
2.  **æ··åˆå­˜å‚¨**: 
    *   **æ™ºèƒ½åˆçº¦**: å­˜ `DataHash` (ç´¢å¼•)ã€‚
    *   **Firebase**: å­˜ `EncryptedData` (å¯†æ–‡)ã€‚
3.  **æŸ¥è¯¢é€»è¾‘**:
    > ç”¨æˆ·å‘èµ·æŸ¥è¯¢ -> é’±åŒ…ç­¾å -> åˆçº¦æ£€æŸ¥ `mapping(patient => doctor => bool)` æƒé™ -> è‹¥ `true` -> è¿”å› `DataHash` -> å‰ç«¯ç”¨ Hash å» Firebase æ‹‰å–æ•°æ® -> å±•ç¤ºã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Getting Started)

### å‰ç½®è¦æ±‚
*   Node.js (v16+)
*   MetaMask æµè§ˆå™¨æ’ä»¶ (åˆ‡æ¢è‡³ Sepolia ç½‘ç»œ)

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/wenzikang1/blood-donation-dapp.git
cd blood-donation-dapp
```

### 2. å®‰è£…ä¾èµ–
```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡
åœ¨æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå‚è€ƒ `.env.example`ï¼‰ï¼Œå¡«å…¥ä½ çš„ Firebase é…ç½®ï¼š
```env
REACT_APP_FIREBASE_API_KEY=your_api_key
REACT_APP_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
...
```

### 4. å¯åŠ¨æœ¬åœ°æœåŠ¡
```bash
npm start
```
æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`ã€‚

---

## ğŸ“œ æ™ºèƒ½åˆçº¦ä¿¡æ¯

*   **Network**: Sepolia Testnet
*   **Contract Address**: `0x358C1b214ca97156B36f121cfDDfE8c7cfba8A38`

---

## ğŸ‘¥ ä½œè€… (Author)

*   **wenzikang1** - [GitHub Profile](https://github.com/wenzikang1)

---

*æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ ä¸ç ”ç©¶åŒºå—é“¾åœ¨åŒ»ç–—é¢†åŸŸçš„åº”ç”¨ã€‚*
